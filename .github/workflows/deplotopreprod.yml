name: deploy to preprod

on:
  workflow_dispatch:
    inputs:
      build_number:
        description: 'Build number (e.g., 51)'
        required: true
        type: string

permissions:
  actions: read
  contents: read

jobs:
  download:
    runs-on: windows-latest
    steps:
      - name: Find and download artifact
        uses: dawidd6/action-download-artifact@v7
        with:
          workflow: build.yml
          run_number: ${{ github.event.inputs.build_number }}
          name: drop-${{ github.event.inputs.build_number }}
          path: ./downloaded

  Deploy_to_prod:
     runs-on: windows-latest  # For a list of available runner types, refer to
                            # https://help.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idruns-on
     needs: download
     environment: pre-prod
     steps:
     - name: preprod Deployment
       run: |
          echo "Deploying to Pre-Prod environment"
